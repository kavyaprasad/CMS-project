{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block content %}
 <section id="main-content">
   <section class="wrapper">    
    <meta http-equiv="content-type" content="text/html; charset=UTF8">
      <head>
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.css">
  
      </head>
      <body>
        
	<div style= "background-color: rgba(245, 245, 245, 0.75);" class='well col-sm-6 col-sm-offset-3'>
	 <h1 align="center"><font color = 'black'>Percentage Of Views On Every Video</font></h1>
        <div style= "background-color: rgba(245, 245, 245, 0.2);" id="chart"></div>
	</div>
        <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.js"></script>
        <script text/javascript>
    
          var chart = c3.generate({
            data: {

              columns: {{object_list|safe}},
              type : 'donut',
              onclick: function (d, element) { console.log("onclick", d, element); },
              onmouseover: function (d) { console.log("onmouseover", d); },
              onmouseout: function (d) { console.log("onmouseout", d); },
            },
            size: {
                width: 600,
                height: 600
            },
          });

          setTimeout(function () {
              chart.load({
                  columns: all_columns
              });
          }, 1500);

          setTimeout(function () {
              chart.unload({
                  ids: 'data1'
              });
              chart.unload({
                  ids: 'data2'
              });
          }, 2500);
        </script>
    </div> 
    <div>
    </div>
  </body>
</section>
</section>
{% endblock %}
